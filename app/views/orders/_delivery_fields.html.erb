<li class="list-group-item" data-controller="algolia-places">
	<div class="d-flex">
		<%= f.input :address, label: "Delivery address", autocomplete: "off", input_html: { data: { target: "algolia-places.input" } }, required: false %>
		
		<%= f.input :phone, label: "Phone number", required: false, wrapper_html: { class: "ml-3" }  %>
	</div>

	<%= f.input :instructions, label: "Delivery instructions" %>
</li>

<li class="list-group-item">
	<p class="mb-2" style="font-size: 1.25rem">Select a time slot</p>

	<div class="row">
	  <div class="col-4">
	  	<div style="max-height: 400px; overflow: auto;" data-simplebar data-simplebar-auto-hide="false" class="border-right border-left px-1">
		    <div class="nav flex-column nav-pills mx-3 text-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">
		    	<% @grouped_time_slots.keys.each_with_index do |date, i| %>
			    	<%= link_to date.strftime("%B %d"), "#v-pills-#{date.jd}", role: "tab", class: "nav-link text-secondary #{i.zero? ? 'active' : ''}", data: { toggle: "pill" } %>
		    	<% end %>
		    </div>
	  	</div>
	  </div>

	  <div class="col-8">
	  	<div style="max-height: 400px; overflow: auto;" data-simplebar data-simplebar-auto-hide="false" class="px-3 border-right border-left">
	  		<div class="tab-content" id="v-pills-tabContent">
	  			<% @grouped_time_slots.each do |date, time_slots| %>
	  				<div class="tab-pane pl-2 fade <%= @grouped_time_slots.keys.first == date ? 'active show' : '' %>" id="v-pills-<%= date.jd %>" role="tabpanel">
	  					<% time_slots.each do |time_slot| %>
	  						<label class="custom-control custom-radio border-bottom d-flex align-items-center mb-0 py-3">
	  							<%= radio_button_tag "order[delivery_attributes][scheduled_at]", time_slot.start_datetime, false, class: 'custom-control-input', data: { action: "checkout#updateBreakdown" } %>

	  							<%= label_tag "order_delivery_attributes_scheduled_at_#{time_slot.start_datetime.to_s}", class: "custom-control-label text-secondary d-flex justify-content-between w-100" do %>
	  								<span>
	  									<%= time_slot.to_s %>
	  								</span>

	  								<span class="price pr-3">
	  									<% price = @order.delivery.price_for(time_slot) %>
	  									<%= price.zero? ? "FREE" : number_to_currency(price) %>
	  								</span>
	  							<% end %>
	  						</label>
	  					<% end %>
	  				</div>
	  			<% end %>
	  		</div>
	  	</div>
	  </div>
	</div>
</li>
